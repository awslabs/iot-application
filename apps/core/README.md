# Core System

## Environmental Variables

The Core system consumes the following environmental variables for operations.

| Name                        | Usage                                                                                                                                                                | Is Required                                                                          |
|-----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------|
| AWS_ACCESS_KEY_ID           | AWS access key to grant AWS permissions to Core service. If defined, this environment variable overrides the value for the profile setting.                          | No                                                                                   |
| AWS_REGION                  | AWS region to serve Core service.                                                                                                                                    | No                                                                                   |
| AWS_SECRET_ACCESS_KEY       | AWS secret key to grant AWS permissions to Core service. If defined, this environment variable overrides the value for the profile setting.                          | No                                                                                   |
| AWS_SESSION_TOKEN           | AWS session token to grant AWS permissions to Core service. If defined, this environment variable overrides the value for the profile setting.                       | Required when using temporary security credentials retrieved from AWS STS operations |
| COGNITO_IDENTITY_POOL_ID    | ID of the Cognito Identity Pool to grant user client AWS access.                                                                                                     | Yes                                                                                  |
| COGNITO_USE_LOCAL_VERIFIER  | [Dev Only] Specify `true` to use a local mock verifier for Core service API authentication. Empty or any other value to use a production Cognito User Pool verifier. | No                                                                                   |
| COGNITO_USER_POOL_CLIENT_ID | ID of the Cognito User Pool Client that Core service uses to authenticate users.                                                                                     | Yes                                                                                  |
| COGNITO_USER_POOL_ID        | ID of the Cognito User Pool that Core service uses to authenticate users.                                                                                            | Yes                                                                                  |
| DATABASE_ENDPOINT           | Endpoint of the DynamoDB service that Core service connects to. If not specified, Core service connects to the DynamoDB service in region of `AWS_REGION`.           | No                                                                                   |
| DATABASE_TABLE_NAME         | Table name of the DynamoDB table that Core service connects to for persistent storage.                                                                               | Yes                                                                                  |
| DATABASE_PORT               | [Dev Only] Port of the local DynamoDB service that Core service connects to.                                                                                         | Required when `DATABASE_LAUNCH_LOCAL=true`                                           |
| DATABASE_LAUNCH_LOCAL       | [Dev Only] Whether to launch a local DynamoDB service that Core service connects to.                                                                                 | No                                                                                   |
| NODE_ENV                    | Environment that Core service run in. Specify `development` to allow access locally `http://localhost:<xxxx>`.                                                       | No                                                                                   |
| SERVICE_ENDPOINTS           | A space separated list of endpoints the client allows to connect to. Used to setup the `connect-src` CSP directive.                                                  | Yes                                                                                  |
